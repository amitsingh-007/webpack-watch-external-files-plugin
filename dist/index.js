'use strict';var path=require('path'),glob=require('glob');var i="WebpackWatchExternalFilesPlugin";var h=c=>{let{filesToWatch:s,filesToExclude:o}=c.reduce((e,t)=>{if(t.startsWith("!")){let l=glob.globSync(t.slice(1));e.filesToExclude.push(...l);}else {let l=glob.globSync(t);e.filesToWatch.push(...l);}return e},{filesToWatch:[],filesToExclude:[]});return [...new Set(s.filter(e=>!o.includes(e)))].map(e=>path.resolve(e))},r=class{constructor({files:s}){this.files=s;}apply(s){let o=s.getInfrastructureLogger(i);s.hooks.initialize.tap(i,()=>{o.info("Watching External Files:",this.files);}),s.hooks.afterCompile.tapAsync(i,(n,f)=>{h(this.files).map(t=>n.fileDependencies.add(t)),f();});}},g=r;module.exports=g;